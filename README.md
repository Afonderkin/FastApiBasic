# **FastApiBasic**

Этот проект представляет собой шаблон для создания веб-приложений с использованием FastAPI.  
Шаблон включает в себя основные компоненты, такие как
настройка базы данных, маршруты, модели и тесты.


## **Содержание**

- [Установка](#установка)
- [Запуск приложения](#запуск-приложения)
- [Структура проекта](#структура-проекта)
- [Подробнее о структуре](#подробнее-о-структуре)
  - [Конфигурация](#конфигурация)
  - [База данных](#база-данных)
  - [API endpoints](#api-endpoints)
  - [Сервисы](#сервисы)
  - [Модели](#модели)
  - [Репозитории](#репозитории)
  - [Схемы](#схемы)
  - [Утилиты](#утилиты)
    - [Helpers](#helpers)
      - [Unit of Work](#unit-of-work)
  - [Миграции](#миграции)
  - [Логирование](#логирование)
- [Вклад в проект](#вклад-в-проект)

## **Установка**

1. *Клонируйте репозиторий:*  
`git clone https://github.com/Afonderkin/FastApiBasic.git`  
`cd FastApiBasic`

2. *Создайте виртуальное окружение и активируйте его:*  
`python -m venv venv`  
`source venv/bin/activate`

3. *Установите зависимости:*
`pip install -r requirements.txt`

## **запуск-приложения**

1. *Запустите приложение:*
`uvicorn app.main:app --reload`  
Приложение будет доступно по адресу http://127.0.0.1:8000  
Документация API будет доступна по адресу http://127.0.0.1:8000/docs

## **Структура проекта**

```
FastApiBasic/
├── app/
│ ├── init.py
│ ├── main.py
│ ├── api/
│ │ ├── init.py
│ │ ├── endpoints/
│ │ │ ├── init.py
│ │ │ ├── example.py
│ ├── core/
│ │ ├── init.py
│ │ ├── config.py
│ │ ├── db.py
│ ├── services/
│ │ ├── init.py
│ │ ├── example_service.py
│ ├── models/
│ │ ├── init.py
│ │ ├── example_model.py
│ ├── repositories/
│ │ ├── init.py
│ │ ├── base_repository.py
│ │ ├── example_repository.py
│ ├── schemas/
│ │ ├── init.py
│ │ ├── example_schema.py
│ ├── utils/
│ │ ├── init.py
│ │ ├── dependencies.py
│ │ ├── helpers.py
│ │ ├── unitofwork.py
├── migrations/
│ ├── env.py
│ ├── README
│ ├── script.py.mako
├── .gitignore
├── requirements.txt
├── README.md
```

## **Подробнее о структуре**

### **Конфигурация**

Настройки конфигурации хранятся в `app/core/config.py`. Этот файл содержит переменные окружения и другие параметры конфигурации.

### **База данных**

Настройка и подключение к базе данных обрабатываются в `app/core/db.py`. Этот модуль инициализирует соединение с базой данных с использованием SQLAlchemy.

### **API endpoints**

API endpoints определены в `app/api/endpoints/example.py`. Эти endpoints используют фреймворк FastAPI для определения маршрутов и обработки HTTP-запросов.

### **Сервисы**

Бизнес-логика инкапсулирована в `app/services/example_service.py`. Сервисы взаимодействуют с репозиториями для выполнения операций над базой данных.

### **Модели**

Модели базы данных определены в `app/models/example_model.py`. Эти модели используют SQLAlchemy для определения схемы базы данных.

### **Репозитории**

Репозитории определены в `app/repositories/example_repository.py`. Они предоставляют слой абстракции между базой данных и сервисами.

### **Схемы**

Схемы Pydantic определены в `app/schemas/example_schema.py`. Эти схемы используются для валидации данных и сериализации.

### **Утилиты**

Утилиты и зависимости определены в `app/utils/`. Это включает модули dependencies.py, helpers.py и unitofwork.py.

#### **Helpers**

Модуль helpers.py обычно содержит вспомогательные функции и утилиты, которые могут быть использованы в различных частях приложения.  
Эти функции помогают упростить код и избежать дублирования. Вот несколько примеров того, что может содержаться в `helpers.py`:  

1. Функции для работы с датами и временем:  
```python
from datetime import datetime, timedelta

def get_current_time():
    return datetime.utcnow()

def add_days(date, days):
    return date + timedelta(days=days)
```  

2. Функции для работы с строками:  
```python
def slugify(text):
    return text.lower().replace(" ", "-")
```

#### **Unit of Work**

Модуль `unitofwork.py` реализует паттерн Unit of Work, который помогает управлять изменениями в базе данных и обеспечивает атомарность операций.

### **Миграции**

Миграции базы данных управляются с использованием Alembic. Скрипты миграций находятся в директории `migrations/`. Для выполнения миграций используйте:  

```commandline
alembic upgrade head
```

### **Логирование**

Логирование настроено в файле `app/core/config.py`.
Вы можете настроить уровень логирования и формат сообщений в этом файле.

## **Вклад в проект**

Вклады приветствуются!
Пожалуйста, прочитайте файл `CONTRIBUTING.md` для получения руководства о том, как внести свой вклад в этот проект.